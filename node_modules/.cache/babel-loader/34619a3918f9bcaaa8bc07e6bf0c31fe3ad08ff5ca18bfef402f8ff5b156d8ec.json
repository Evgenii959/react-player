{"ast":null,"code":"import { createMachine } from 'xstate';\nconst machine = createMachine({\n  id: 'player',\n  initial: 'mini',\n  context: {\n    videoRef: null\n  },\n  states: {\n    mini: {\n      on: {\n        toggle: 'full',\n        PLAY: 'playing',\n        RESIZE: {\n          actions: 'resizeVideo',\n          target: 'full'\n        }\n      }\n    },\n    full: {\n      entry: 'playVideo',\n      exit: 'pauseVideo',\n      on: {\n        toggle: 'mini',\n        PAUSE: 'paused',\n        PLAY: 'playing',\n        RESIZE: {\n          actions: 'resizeVideo',\n          target: 'mini'\n        }\n      }\n    },\n    playing: {\n      entry: 'playVideo',\n      on: {\n        PAUSE: 'paused',\n        END: 'mini',\n        RESIZE: {\n          actions: 'resizeVideo'\n        }\n      }\n    },\n    paused: {\n      exit: 'pauseVideo',\n      on: {\n        PLAY: 'playing',\n        RESIZE: {\n          actions: 'resizeVideo'\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    playVideo: context => {\n      var _context$videoRef;\n      if ((_context$videoRef = context.videoRef) !== null && _context$videoRef !== void 0 && _context$videoRef.current) {\n        context.videoRef.current.getInternalPlayer().play();\n      }\n    },\n    pauseVideo: context => {\n      var _context$videoRef2;\n      if ((_context$videoRef2 = context.videoRef) !== null && _context$videoRef2 !== void 0 && _context$videoRef2.current) {\n        context.videoRef.current.getInternalPlayer().pause();\n      }\n    }\n  }\n});\nexport default machine;","map":{"version":3,"names":["createMachine","machine","id","initial","context","videoRef","states","mini","on","toggle","PLAY","RESIZE","actions","target","full","entry","exit","PAUSE","playing","END","paused","playVideo","_context$videoRef","current","getInternalPlayer","play","pauseVideo","_context$videoRef2","pause"],"sources":["/Users/evgeniy/react-player/src/machine.js"],"sourcesContent":["import { createMachine } from 'xstate';\n\nconst machine = createMachine(\n  {\n    id: 'player',\n    initial: 'mini',\n    context: {\n      videoRef: null,\n    },\n    states: {\n      mini: {\n        on: {\n          toggle: 'full',\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n            target: 'full',\n          },\n        },\n      },\n      full: {\n        entry: 'playVideo',\n        exit: 'pauseVideo',\n        on: {\n          toggle: 'mini',\n          PAUSE: 'paused',\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n            target: 'mini',\n          },\n        },\n      },\n      playing: {\n        entry: 'playVideo',\n        on: {\n          PAUSE: 'paused',\n          END: 'mini',\n          RESIZE: {\n            actions: 'resizeVideo',\n          },\n        },\n      },\n      paused: {\n        exit: 'pauseVideo',\n        on: {\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      playVideo: (context) => {\n        if (context.videoRef?.current) {\n          context.videoRef.current.getInternalPlayer().play();\n        }\n      },\n      pauseVideo: (context) => {\n        if (context.videoRef?.current) {\n          context.videoRef.current.getInternalPlayer().pause();\n        }\n      },\n    },\n  }\n);\n\nexport default machine;\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,QAAQ;AAEtC,MAAMC,OAAO,GAAGD,aAAa,CAC3B;EACEE,EAAE,EAAE,QAAQ;EACZC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;IACPC,QAAQ,EAAE;EACZ,CAAC;EACDC,MAAM,EAAE;IACNC,IAAI,EAAE;MACJC,EAAE,EAAE;QACFC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;UACNC,OAAO,EAAE,aAAa;UACtBC,MAAM,EAAE;QACV;MACF;IACF,CAAC;IACDC,IAAI,EAAE;MACJC,KAAK,EAAE,WAAW;MAClBC,IAAI,EAAE,YAAY;MAClBR,EAAE,EAAE;QACFC,MAAM,EAAE,MAAM;QACdQ,KAAK,EAAE,QAAQ;QACfP,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;UACNC,OAAO,EAAE,aAAa;UACtBC,MAAM,EAAE;QACV;MACF;IACF,CAAC;IACDK,OAAO,EAAE;MACPH,KAAK,EAAE,WAAW;MAClBP,EAAE,EAAE;QACFS,KAAK,EAAE,QAAQ;QACfE,GAAG,EAAE,MAAM;QACXR,MAAM,EAAE;UACNC,OAAO,EAAE;QACX;MACF;IACF,CAAC;IACDQ,MAAM,EAAE;MACNJ,IAAI,EAAE,YAAY;MAClBR,EAAE,EAAE;QACFE,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE;UACNC,OAAO,EAAE;QACX;MACF;IACF;EACF;AACF,CAAC,EACD;EACEA,OAAO,EAAE;IACPS,SAAS,EAAGjB,OAAO,IAAK;MAAA,IAAAkB,iBAAA;MACtB,KAAAA,iBAAA,GAAIlB,OAAO,CAACC,QAAQ,cAAAiB,iBAAA,eAAhBA,iBAAA,CAAkBC,OAAO,EAAE;QAC7BnB,OAAO,CAACC,QAAQ,CAACkB,OAAO,CAACC,iBAAiB,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MACrD;IACF,CAAC;IACDC,UAAU,EAAGtB,OAAO,IAAK;MAAA,IAAAuB,kBAAA;MACvB,KAAAA,kBAAA,GAAIvB,OAAO,CAACC,QAAQ,cAAAsB,kBAAA,eAAhBA,kBAAA,CAAkBJ,OAAO,EAAE;QAC7BnB,OAAO,CAACC,QAAQ,CAACkB,OAAO,CAACC,iBAAiB,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC;MACtD;IACF;EACF;AACF,CACF,CAAC;AAED,eAAe3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}