{"ast":null,"code":"import{createMachine}from'xstate';const machine=createMachine({id:'player',initial:'mini',context:{videoRef:null},states:{mini:{on:{toggle:'full',PLAY:'playing',RESIZE:{actions:'resizeVideo',target:'full'}}},full:{entry:'playVideo',exit:'pauseVideo',on:{toggle:'mini',PAUSE:'paused',PLAY:'playing',RESIZE:{actions:'resizeVideo',target:'mini'}}},playing:{entry:'playVideo',on:{PAUSE:'paused',END:'mini',RESIZE:{actions:'resizeVideo'}}},paused:{exit:'pauseVideo',on:{PLAY:'playing',RESIZE:{actions:'resizeVideo'}}}}},{actions:{playVideo:context=>{var _context$videoRef;if((_context$videoRef=context.videoRef)!==null&&_context$videoRef!==void 0&&_context$videoRef.current){context.videoRef.current.getInternalPlayer().play();}},pauseVideo:context=>{var _context$videoRef2;if((_context$videoRef2=context.videoRef)!==null&&_context$videoRef2!==void 0&&_context$videoRef2.current){context.videoRef.current.getInternalPlayer().pause();}}}});export default machine;","map":{"version":3,"names":["createMachine","machine","id","initial","context","videoRef","states","mini","on","toggle","PLAY","RESIZE","actions","target","full","entry","exit","PAUSE","playing","END","paused","playVideo","_context$videoRef","current","getInternalPlayer","play","pauseVideo","_context$videoRef2","pause"],"sources":["/Users/evgeniy/react-player/src/machine.js"],"sourcesContent":["import { createMachine } from 'xstate';\n\nconst machine = createMachine(\n  {\n    id: 'player',\n    initial: 'mini',\n    context: {\n      videoRef: null,\n    },\n    states: {\n      mini: {\n        on: {\n          toggle: 'full',\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n            target: 'full',\n          },\n        },\n      },\n      full: {\n        entry: 'playVideo',\n        exit: 'pauseVideo',\n        on: {\n          toggle: 'mini',\n          PAUSE: 'paused',\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n            target: 'mini',\n          },\n        },\n      },\n      playing: {\n        entry: 'playVideo',\n        on: {\n          PAUSE: 'paused',\n          END: 'mini',\n          RESIZE: {\n            actions: 'resizeVideo',\n          },\n        },\n      },\n      paused: {\n        exit: 'pauseVideo',\n        on: {\n          PLAY: 'playing',\n          RESIZE: {\n            actions: 'resizeVideo',\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      playVideo: (context) => {\n        if (context.videoRef?.current) {\n          context.videoRef.current.getInternalPlayer().play();\n        }\n      },\n      pauseVideo: (context) => {\n        if (context.videoRef?.current) {\n          context.videoRef.current.getInternalPlayer().pause();\n        }\n      },\n    },\n  }\n);\n\nexport default machine;\n"],"mappings":"AAAA,OAASA,aAAa,KAAQ,QAAQ,CAEtC,KAAM,CAAAC,OAAO,CAAGD,aAAa,CAC3B,CACEE,EAAE,CAAE,QAAQ,CACZC,OAAO,CAAE,MAAM,CACfC,OAAO,CAAE,CACPC,QAAQ,CAAE,IACZ,CAAC,CACDC,MAAM,CAAE,CACNC,IAAI,CAAE,CACJC,EAAE,CAAE,CACFC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,CACNC,OAAO,CAAE,aAAa,CACtBC,MAAM,CAAE,MACV,CACF,CACF,CAAC,CACDC,IAAI,CAAE,CACJC,KAAK,CAAE,WAAW,CAClBC,IAAI,CAAE,YAAY,CAClBR,EAAE,CAAE,CACFC,MAAM,CAAE,MAAM,CACdQ,KAAK,CAAE,QAAQ,CACfP,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,CACNC,OAAO,CAAE,aAAa,CACtBC,MAAM,CAAE,MACV,CACF,CACF,CAAC,CACDK,OAAO,CAAE,CACPH,KAAK,CAAE,WAAW,CAClBP,EAAE,CAAE,CACFS,KAAK,CAAE,QAAQ,CACfE,GAAG,CAAE,MAAM,CACXR,MAAM,CAAE,CACNC,OAAO,CAAE,aACX,CACF,CACF,CAAC,CACDQ,MAAM,CAAE,CACNJ,IAAI,CAAE,YAAY,CAClBR,EAAE,CAAE,CACFE,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,CACNC,OAAO,CAAE,aACX,CACF,CACF,CACF,CACF,CAAC,CACD,CACEA,OAAO,CAAE,CACPS,SAAS,CAAGjB,OAAO,EAAK,KAAAkB,iBAAA,CACtB,IAAAA,iBAAA,CAAIlB,OAAO,CAACC,QAAQ,UAAAiB,iBAAA,WAAhBA,iBAAA,CAAkBC,OAAO,CAAE,CAC7BnB,OAAO,CAACC,QAAQ,CAACkB,OAAO,CAACC,iBAAiB,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CACrD,CACF,CAAC,CACDC,UAAU,CAAGtB,OAAO,EAAK,KAAAuB,kBAAA,CACvB,IAAAA,kBAAA,CAAIvB,OAAO,CAACC,QAAQ,UAAAsB,kBAAA,WAAhBA,kBAAA,CAAkBJ,OAAO,CAAE,CAC7BnB,OAAO,CAACC,QAAQ,CAACkB,OAAO,CAACC,iBAAiB,CAAC,CAAC,CAACI,KAAK,CAAC,CAAC,CACtD,CACF,CACF,CACF,CACF,CAAC,CAED,cAAe,CAAA3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}